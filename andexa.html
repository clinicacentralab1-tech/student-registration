<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Registration</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css">
</head>
<body class="container" style="padding-top: 50px;">
    <article>
        <header>
            <h2>ðŸŽ“ Course Registration</h2>
            <p>Please fill in your details to enroll.</p>
        </header>
        
        <form id="sheetdb-form">
            <label for="name">Full Name</label>
            <input type="text" id="name" name="data[name]" placeholder="John Doe" required>

            <label for="email">Email Address</label>
            <input type="email" id="email" name="data[email]" placeholder="john@example.com" required>

            <label for="course">Select Course</label>
            <select id="course" name="data[course]" required>
                <option value="" selected disabled>Choose a course...</option>
                <option value="Computer Science">Computer Science</option>
                <option value="Business Admin">Business Admin</option>
                <option value="Graphic Design">Graphic Design</option>
            </select>

            <button type="submit" id="submit-btn">Submit Registration</button>
        </article>

    <script>
        var form = document.getElementById('sheetdb-form');
        form.addEventListener("submit", e => {
          e.preventDefault();
          const btn = document.getElementById('submit-btn');
          btn.disabled = true;
          btn.innerText = "Saving...";

          fetch('https://sheetdb.io/api/v1/tws6t1mjht7ydAPI_URL', {
              method : 'POST',
              body: new FormData(document.getElementById("sheetdb-form")),
          }).then(
              response => response.json()
          ).then((html) => {
            alert('Success! You are registered.')
            form.reset();
            btn.disabled = false;
            btn.innerText = "Submit Registration";
          });
        });
    </script>
</body>
</html>